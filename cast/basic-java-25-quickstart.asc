#!/usr/bin/env bash

# Définir votre utilisateur GitHub

read -p "Entrer votre utilisateur GitHub: " user

# Définir le nom du dépot à créer

repo=basic-java-25-cli-$RANDOM

# Créer une application basic-java-25-cli-XXXX à partir du template https://github.com/java-cli-apps/basic-java-25-quickstart

gh repo create ${repo} --public --template git@github.com:java-cli-apps/basic-java-25-quickstart.git

# Cloner le dépot basic-java-25-cli-XXXX

cd /tmp
gh repo clone git@github.com:${user}/${repo}
cd ${repo}
tree

# Définir le nom de l'application

export APP_NAME=BasicJava25Cli

# Lancer l'application

make run-app

# Packager l'application

make package
unzip -l build/BasicJava25Cli.zip
